<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper

    PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"

    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="com.soundcloud.perPage.perPagemapper">
	<select id="getsongs"
		resultType="com.soundcloud.perPage.domain.perPageVO">

<<<<<<< HEAD
		select * from songs join user using(user_name)
=======
		select * from songs 
>>>>>>> aeeea0070c7cb67e59af7ae3e950d4f495751a3b

	</select>
	<select id="getsongsbyuserno"
		resultType="com.soundcloud.perPage.domain.perPageVO">

<<<<<<< HEAD
		select * from songs join user using(user_name) where
=======
		select * from songs where
>>>>>>> aeeea0070c7cb67e59af7ae3e950d4f495751a3b
		user_no = #{user_no}

	</select>

	<insert id="insertsong"
		parameterType="com.soundcloud.perPage.domain.perPageVO">

		insert into songs(user_name, song_name, song,
		song_pic,
<<<<<<< HEAD
		theme, play_list)
=======
		theme, play_list,user_no)
>>>>>>> aeeea0070c7cb67e59af7ae3e950d4f495751a3b

		value(
		#{user_name},
		#{song_name},
		#{song},
		#{song_pic},
		#{theme},
<<<<<<< HEAD
		#{play_list}
=======
		#{play_list},
		#{user_no}
>>>>>>> aeeea0070c7cb67e59af7ae3e950d4f495751a3b
		)

	</insert>

	<delete id="deletesong" parameterType="int">

		delete from songs

		where
		song_no = #{song_no}

	</delete>

	<update id="updatesong"
		parameterType="com.soundcloud.perPage.domain.perPageVO">

		update songs set
<<<<<<< HEAD
=======
		
		user_name = #{user_name},
>>>>>>> aeeea0070c7cb67e59af7ae3e950d4f495751a3b

		song_name = #{song_name},

		theme =
		#{theme},

		play_list = #{play_list}

		where song_no = #{song_no}

	</update>
<<<<<<< HEAD
=======
	
	<update id="updatesonguser" parameterType="com.soundcloud.perPage.domain.perPageVO">
	
	update songs set
	
	user_name = #{user_name}
	
	where user_no = #{user_no}
	
	</update>
>>>>>>> aeeea0070c7cb67e59af7ae3e950d4f495751a3b

	<update id="viewcnt"
		parameterType="com.soundcloud.perPage.domain.perPageVO">

		update songs set

		view = view + 1

		where song_no =
		#{song_no}

	</update>

	<select id="viewcnt2"
		resultType="com.soundcloud.perPage.domain.perPageVO">

		select * from songs order by view DESC limit 10;


	</select>

</mapper>